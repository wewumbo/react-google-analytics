import React from "react";
import { connect } from "react-redux";
import axios from "axios";
import moment from "moment";
import { setData } from "../../redux/availability/action";
import Select from "react-select";

import {
  Card,
  CardBody,
  CardTitle,
  Row,
  Col,
  Input,
  CardText,
  Button
} from "reactstrap";

const optionsDays = [
  { value: "Mon", label: "Mon" },
  { value: "Tue", label: "Tue" },
  { value: "Wed", label: "Wed" },
  { value: "Thu", label: "Thu" },
  { value: "Fri", label: "Fri" },
  { value: "Sat", label: "Sat" },
  { value: "Sun", label: "Sun" }
];

const optionsCategory = [
  { value: "Single Half Board", label: "Single Half Board" },
  { value: "Single Bed & Breakfast", label: "Single Bed & Breakfast" },
  { value: "Triple Full Board", label: "Triple Full Board" }
];

const optionsMonth = [
  { value: "Jan", label: "Jan" },
  { value: "Feb", label: "Feb" },
  { value: "Mar", label: "Mar" },
  { value: "Apr", label: "Apr" },
  { value: "May", label: "May" },
  { value: "Jun", label: "Jun" },
  { value: "Jul", label: "Jul" },
  { value: "Aug", label: "Aug" },
  { value: "Sep", label: "Sep" },
  { value: "Oct", label: "Oct" },
  { value: "Nov", label: "Nov" },
  { value: "Dec", label: "Dec" }
];

const mapStateToProps = state => ({
  ...state
});

const mapDispatchToProps = dispatch => ({
  setData: payload => dispatch(setData(payload))
});

class Avl extends React.Component {
  constructor(props) {
    super(props);

    this.state = {
      availability: {},
      rates: {},
      avaialabilityDefault: {},

      days: [],
      categories: [],
      months: [],
      view: [],

      dataTest: {
        data_grid: [
          {
            _id: {
              $oid: "5d22cdcc0ad30f29230fd622"
            },
            property_code: "100003",
            name: "Deluxe Room",
            room_view: "Sea View",
            occupancy: "02",
            units: "10",
            size: "350",
            description: null,
            amenities: [
              "Bathrobes",
              "Hair Dryer",
              "Private Bath",
              "Flat Screen Television",
              "Balcony/terrace",
              "Shower",
              "Free Wi-Fi"
            ],
            photos: [
              "room_photo/QPOuy1UexSXSVFqtavcJsO46Ni7g9HaOJSAnkh4K.jpeg"
            ],
            room_rates: [
              {
                _id: {
                  $oid: "5d22ce1c0ad30f29332585d2"
                },
                property_code: "100003",
                name: "Single Half Board",
                room_category: "5d22cdcc0ad30f29230fd622",
                meal_plan: "Half Board",
                base_occupancy: "1",
                rack_rate: null,
                support_additional_adult: "off",
                prices: {
                  "2019-07-01": 84,
                  "2019-07-02": 84,
                  "2019-07-03": 84,
                  "2019-07-04": 84,
                  "2019-07-05": 84,
                  "2019-07-06": 84,
                  "2019-07-07": 84,
                  "2019-07-08": 84,
                  "2019-07-09": 84,
                  "2019-07-10": 84,
                  "2019-07-11": 84,
                  "2019-07-12": 84,
                  "2019-07-13": 84,
                  "2019-07-14": 84,
                  "2019-07-15": 84,
                  "2019-07-16": 84,
                  "2019-07-17": 84,
                  "2019-07-18": 84,
                  "2019-07-19": 84,
                  "2019-07-20": 84,
                  "2019-07-21": 84,
                  "2019-07-22": 84,
                  "2019-07-23": 84,
                  "2019-07-24": 84,
                  "2019-07-25": 84,
                  "2019-07-26": 84,
                  "2019-07-27": 84,
                  "2019-07-28": 84,
                  "2019-07-29": 84,
                  "2019-07-30": 84,
                  "2019-07-31": 84,
                  "2019-08-01": 84,
                  "2019-08-02": 84,
                  "2019-08-03": 84,
                  "2019-08-04": 84,
                  "2019-08-05": 84,
                  "2019-08-06": 84,
                  "2019-08-07": 84,
                  "2019-08-08": 84,
                  "2019-08-09": 84,
                  "2019-08-10": 84,
                  "2019-08-11": 84,
                  "2019-08-12": 84,
                  "2019-08-13": 84,
                  "2019-08-14": 84,
                  "2019-08-15": 84,
                  "2019-08-16": 84,
                  "2019-08-17": 84,
                  "2019-08-18": 84,
                  "2019-08-19": 84,
                  "2019-08-20": 84,
                  "2019-08-21": 84,
                  "2019-08-22": 84,
                  "2019-08-23": 84,
                  "2019-08-24": 84,
                  "2019-08-25": 84,
                  "2019-08-26": 84,
                  "2019-08-27": 84,
                  "2019-08-28": 84,
                  "2019-08-29": 84,
                  "2019-08-30": 84,
                  "2019-08-31": 84,
                  "2019-09-01": 84,
                  "2019-09-02": 84,
                  "2019-09-03": 84,
                  "2019-09-04": 84,
                  "2019-09-05": 84,
                  "2019-09-06": 84,
                  "2019-09-07": 84,
                  "2019-09-08": 84,
                  "2019-09-09": 84,
                  "2019-09-10": 84,
                  "2019-09-11": 84,
                  "2019-09-12": 84,
                  "2019-09-13": 84,
                  "2019-09-14": 84,
                  "2019-09-15": 84,
                  "2019-09-16": 84,
                  "2019-09-17": 84,
                  "2019-09-18": 84,
                  "2019-09-19": 84,
                  "2019-09-20": 84,
                  "2019-09-21": 84,
                  "2019-09-22": 84,
                  "2019-09-23": 84,
                  "2019-09-24": 84,
                  "2019-09-25": 84,
                  "2019-09-26": 84,
                  "2019-09-27": 84,
                  "2019-09-28": 84,
                  "2019-09-29": 84,
                  "2019-09-30": 84,
                  "2019-10-01": 84,
                  "2019-10-02": 84,
                  "2019-10-03": 84,
                  "2019-10-04": 84,
                  "2019-10-05": 84,
                  "2019-10-06": 84,
                  "2019-10-07": 84,
                  "2019-10-08": 84,
                  "2019-10-09": 84,
                  "2019-10-10": 84,
                  "2019-10-11": 84,
                  "2019-10-12": 84,
                  "2019-10-13": 84,
                  "2019-10-14": 84,
                  "2019-10-15": 84,
                  "2019-10-16": 84,
                  "2019-10-17": 84,
                  "2019-10-18": 84,
                  "2019-10-19": 84,
                  "2019-10-20": 84,
                  "2019-10-21": 84,
                  "2019-10-22": 84,
                  "2019-10-23": 84,
                  "2019-10-24": 84,
                  "2019-10-25": 84,
                  "2019-10-26": 84,
                  "2019-10-27": 84,
                  "2019-10-28": 84,
                  "2019-10-29": 84,
                  "2019-10-30": 84,
                  "2019-10-31": 84,
                  "2019-11-01": 84,
                  "2019-11-02": 84,
                  "2019-11-03": 84,
                  "2019-11-04": 84,
                  "2019-11-05": 84,
                  "2019-11-06": 84,
                  "2019-11-07": 84,
                  "2019-11-08": 84,
                  "2019-11-09": 84,
                  "2019-11-10": 84,
                  "2019-11-11": 84,
                  "2019-11-12": 84,
                  "2019-11-13": 84,
                  "2019-11-14": 84,
                  "2019-11-15": 84,
                  "2019-11-16": 84,
                  "2019-11-17": 84,
                  "2019-11-18": 84,
                  "2019-11-19": 84,
                  "2019-11-20": 84,
                  "2019-11-21": 84,
                  "2019-11-22": 84,
                  "2019-11-23": 84,
                  "2019-11-24": 84,
                  "2019-11-25": 84,
                  "2019-11-26": 84,
                  "2019-11-27": 84,
                  "2019-11-28": 84,
                  "2019-11-29": 84,
                  "2019-11-30": 84
                }
              },
              {
                _id: {
                  $oid: "5d22ce230ad30f28ea35d202"
                },
                property_code: "100003",
                name: "Single Bed & Breakfast",
                room_category: "5d22cdcc0ad30f29230fd622",
                meal_plan: "Bed & Breakfast",
                base_occupancy: "01",
                rack_rate: null,
                support_additional_adult: "off",
                prices: {
                  "2019-07-01": 76,
                  "2019-07-02": 76,
                  "2019-07-03": 76,
                  "2019-07-04": 76,
                  "2019-07-05": 76,
                  "2019-07-06": 76,
                  "2019-07-07": 76,
                  "2019-07-08": 76,
                  "2019-07-09": 76,
                  "2019-07-10": 76,
                  "2019-07-11": 76,
                  "2019-07-12": 76,
                  "2019-07-13": 76,
                  "2019-07-14": 76,
                  "2019-07-15": 76,
                  "2019-07-16": 76,
                  "2019-07-17": 76,
                  "2019-07-18": 76,
                  "2019-07-19": 76,
                  "2019-07-20": 76,
                  "2019-07-21": 76,
                  "2019-07-22": 76,
                  "2019-07-23": 76,
                  "2019-07-24": 76,
                  "2019-07-25": 76,
                  "2019-07-26": 76,
                  "2019-07-27": 76,
                  "2019-07-28": 76,
                  "2019-07-29": 76,
                  "2019-07-30": 76,
                  "2019-07-31": 76,
                  "2019-08-01": 76,
                  "2019-08-02": 76,
                  "2019-08-03": 76,
                  "2019-08-04": 76,
                  "2019-08-05": 76,
                  "2019-08-06": 76,
                  "2019-08-07": 76,
                  "2019-08-08": 76,
                  "2019-08-09": 76,
                  "2019-08-10": 76,
                  "2019-08-11": 76,
                  "2019-08-12": 76,
                  "2019-08-13": 76,
                  "2019-08-14": 76,
                  "2019-08-15": 76,
                  "2019-08-16": 76,
                  "2019-08-17": 76,
                  "2019-08-18": 76,
                  "2019-08-19": 76,
                  "2019-08-20": 76,
                  "2019-08-21": 76,
                  "2019-08-22": 76,
                  "2019-08-23": 76,
                  "2019-08-24": 76,
                  "2019-08-25": 76,
                  "2019-08-26": 76,
                  "2019-08-27": 76,
                  "2019-08-28": 76,
                  "2019-08-29": 76,
                  "2019-08-30": 76,
                  "2019-08-31": 76,
                  "2019-09-01": 76,
                  "2019-09-02": 76,
                  "2019-09-03": 76,
                  "2019-09-04": 76,
                  "2019-09-05": 76,
                  "2019-09-06": 76,
                  "2019-09-07": 76,
                  "2019-09-08": 76,
                  "2019-09-09": 76,
                  "2019-09-10": 76,
                  "2019-09-11": 76,
                  "2019-09-12": 76,
                  "2019-09-13": 76,
                  "2019-09-14": 76,
                  "2019-09-15": 76,
                  "2019-09-16": 76,
                  "2019-09-17": 76,
                  "2019-09-18": 76,
                  "2019-09-19": 76,
                  "2019-09-20": 76,
                  "2019-09-21": 76,
                  "2019-09-22": 76,
                  "2019-09-23": 76,
                  "2019-09-24": 76,
                  "2019-09-25": 76,
                  "2019-09-26": 76,
                  "2019-09-27": 76,
                  "2019-09-28": 76,
                  "2019-09-29": 76,
                  "2019-09-30": 76,
                  "2019-10-01": 76,
                  "2019-10-02": 76,
                  "2019-10-03": 76,
                  "2019-10-04": 76,
                  "2019-10-05": 76,
                  "2019-10-06": 76,
                  "2019-10-07": 76,
                  "2019-10-08": 76,
                  "2019-10-09": 76,
                  "2019-10-10": 76,
                  "2019-10-11": 76,
                  "2019-10-12": 76,
                  "2019-10-13": 76,
                  "2019-10-14": 76,
                  "2019-10-15": 76,
                  "2019-10-16": 76,
                  "2019-10-17": 76,
                  "2019-10-18": 76,
                  "2019-10-19": 76,
                  "2019-10-20": 76,
                  "2019-10-21": 76,
                  "2019-10-22": 76,
                  "2019-10-23": 76,
                  "2019-10-24": 76,
                  "2019-10-25": 76,
                  "2019-10-26": 76,
                  "2019-10-27": 76,
                  "2019-10-28": 76,
                  "2019-10-29": 76,
                  "2019-10-30": 76,
                  "2019-10-31": 76,
                  "2019-11-01": 76,
                  "2019-11-02": 76,
                  "2019-11-03": 76,
                  "2019-11-04": 76,
                  "2019-11-05": 76,
                  "2019-11-06": 76,
                  "2019-11-07": 76,
                  "2019-11-08": 76,
                  "2019-11-09": 76,
                  "2019-11-10": 76,
                  "2019-11-11": 76,
                  "2019-11-12": 76,
                  "2019-11-13": 76,
                  "2019-11-14": 76,
                  "2019-11-15": 76,
                  "2019-11-16": 76,
                  "2019-11-17": 76,
                  "2019-11-18": 76,
                  "2019-11-19": 76,
                  "2019-11-20": 76,
                  "2019-11-21": 76,
                  "2019-11-22": 76,
                  "2019-11-23": 76,
                  "2019-11-24": 76,
                  "2019-11-25": 76,
                  "2019-11-26": 76,
                  "2019-11-27": 76,
                  "2019-11-28": 76,
                  "2019-11-29": 76,
                  "2019-11-30": 76
                }
              },
              {
                _id: {
                  $oid: "5d22ce290ad30f290f15bb62"
                },
                property_code: "100003",
                name: "Single Full Board",
                room_category: "5d22cdcc0ad30f29230fd622",
                meal_plan: "Full Board",
                base_occupancy: "02",
                rack_rate: null,
                support_additional_adult: "off",
                prices: {
                  "2019-07-01": 92,
                  "2019-07-02": 92,
                  "2019-07-03": 92,
                  "2019-07-04": 92,
                  "2019-07-05": 92,
                  "2019-07-06": 92,
                  "2019-07-07": 92,
                  "2019-07-08": 92,
                  "2019-07-09": 92,
                  "2019-07-10": 92,
                  "2019-07-11": 92,
                  "2019-07-12": 92,
                  "2019-07-13": 92,
                  "2019-07-14": 92,
                  "2019-07-15": 92,
                  "2019-07-16": 92,
                  "2019-07-17": 92,
                  "2019-07-18": 92,
                  "2019-07-19": 92,
                  "2019-07-20": 92,
                  "2019-07-21": 92,
                  "2019-07-22": 92,
                  "2019-07-23": 92,
                  "2019-07-24": 92,
                  "2019-07-25": 92,
                  "2019-07-26": 92,
                  "2019-07-27": 92,
                  "2019-07-28": 92,
                  "2019-07-29": 92,
                  "2019-07-30": 92,
                  "2019-07-31": 92,
                  "2019-08-01": 92,
                  "2019-08-02": 92,
                  "2019-08-03": 92,
                  "2019-08-04": 92,
                  "2019-08-05": 92,
                  "2019-08-06": 92,
                  "2019-08-07": 92,
                  "2019-08-08": 92,
                  "2019-08-09": 92,
                  "2019-08-10": 92,
                  "2019-08-11": 92,
                  "2019-08-12": 92,
                  "2019-08-13": 92,
                  "2019-08-14": 92,
                  "2019-08-15": 92,
                  "2019-08-16": 92,
                  "2019-08-17": 92,
                  "2019-08-18": 92,
                  "2019-08-19": 92,
                  "2019-08-20": 92,
                  "2019-08-21": 92,
                  "2019-08-22": 92,
                  "2019-08-23": 92,
                  "2019-08-24": 92,
                  "2019-08-25": 92,
                  "2019-08-26": 92,
                  "2019-08-27": 92,
                  "2019-08-28": 92,
                  "2019-08-29": 92,
                  "2019-08-30": 92,
                  "2019-08-31": 92,
                  "2019-09-01": 92,
                  "2019-09-02": 92,
                  "2019-09-03": 92,
                  "2019-09-04": 92,
                  "2019-09-05": 92,
                  "2019-09-06": 92,
                  "2019-09-07": 92,
                  "2019-09-08": 92,
                  "2019-09-09": 92,
                  "2019-09-10": 92,
                  "2019-09-11": 92,
                  "2019-09-12": 92,
                  "2019-09-13": 92,
                  "2019-09-14": 92,
                  "2019-09-15": 92,
                  "2019-09-16": 92,
                  "2019-09-17": 92,
                  "2019-09-18": 92,
                  "2019-09-19": 92,
                  "2019-09-20": 92,
                  "2019-09-21": 92,
                  "2019-09-22": 92,
                  "2019-09-23": 92,
                  "2019-09-24": 92,
                  "2019-09-25": 92,
                  "2019-09-26": 92,
                  "2019-09-27": 92,
                  "2019-09-28": 92,
                  "2019-09-29": 92,
                  "2019-09-30": 92,
                  "2019-10-01": 92,
                  "2019-10-02": 92,
                  "2019-10-03": 92,
                  "2019-10-04": 92,
                  "2019-10-05": 92,
                  "2019-10-06": 92,
                  "2019-10-07": 92,
                  "2019-10-08": 92,
                  "2019-10-09": 92,
                  "2019-10-10": 92,
                  "2019-10-11": 92,
                  "2019-10-12": 92,
                  "2019-10-13": 92,
                  "2019-10-14": 92,
                  "2019-10-15": 92,
                  "2019-10-16": 92,
                  "2019-10-17": 92,
                  "2019-10-18": 92,
                  "2019-10-19": 92,
                  "2019-10-20": 92,
                  "2019-10-21": 92,
                  "2019-10-22": 92,
                  "2019-10-23": 92,
                  "2019-10-24": 92,
                  "2019-10-25": 92,
                  "2019-10-26": 92,
                  "2019-10-27": 92,
                  "2019-10-28": 92,
                  "2019-10-29": 92,
                  "2019-10-30": 92,
                  "2019-10-31": 92,
                  "2019-11-01": 92,
                  "2019-11-02": 92,
                  "2019-11-03": 92,
                  "2019-11-04": 92,
                  "2019-11-05": 92,
                  "2019-11-06": 92,
                  "2019-11-07": 92,
                  "2019-11-08": 92,
                  "2019-11-09": 92,
                  "2019-11-10": 92,
                  "2019-11-11": 92,
                  "2019-11-12": 92,
                  "2019-11-13": 92,
                  "2019-11-14": 92,
                  "2019-11-15": 92,
                  "2019-11-16": 92,
                  "2019-11-17": 92,
                  "2019-11-18": 92,
                  "2019-11-19": 92,
                  "2019-11-20": 92,
                  "2019-11-21": 92,
                  "2019-11-22": 92,
                  "2019-11-23": 92,
                  "2019-11-24": 92,
                  "2019-11-25": 92,
                  "2019-11-26": 92,
                  "2019-11-27": 92,
                  "2019-11-28": 92,
                  "2019-11-29": 92,
                  "2019-11-30": 92
                }
              },
              {
                _id: {
                  $oid: "5d22ce2e0ad30f290f15bb63"
                },
                property_code: "100003",
                name: "Double Bed & Breakfast",
                room_category: "5d22cdcc0ad30f29230fd622",
                meal_plan: "Bed & Breakfast",
                base_occupancy: "02",
                rack_rate: null,
                support_additional_adult: "off",
                prices: {
                  "2019-07-01": 79,
                  "2019-07-02": 79,
                  "2019-07-03": 79,
                  "2019-07-04": 79,
                  "2019-07-05": 79,
                  "2019-07-06": 79,
                  "2019-07-07": 79,
                  "2019-07-08": 79,
                  "2019-07-09": 79,
                  "2019-07-10": 79,
                  "2019-07-11": 79,
                  "2019-07-12": 79,
                  "2019-07-13": 79,
                  "2019-07-14": 79,
                  "2019-07-15": 79,
                  "2019-07-16": 79,
                  "2019-07-17": 79,
                  "2019-07-18": 79,
                  "2019-07-19": 79,
                  "2019-07-20": 79,
                  "2019-07-21": 79,
                  "2019-07-22": 79,
                  "2019-07-23": 79,
                  "2019-07-24": 79,
                  "2019-07-25": 79,
                  "2019-07-26": 79,
                  "2019-07-27": 79,
                  "2019-07-28": 79,
                  "2019-07-29": 79,
                  "2019-07-30": 79,
                  "2019-07-31": 79,
                  "2019-08-01": 79,
                  "2019-08-02": 79,
                  "2019-08-03": 79,
                  "2019-08-04": 79,
                  "2019-08-05": 79,
                  "2019-08-06": 79,
                  "2019-08-07": 79,
                  "2019-08-08": 79,
                  "2019-08-09": 79,
                  "2019-08-10": 79,
                  "2019-08-11": 79,
                  "2019-08-12": 79,
                  "2019-08-13": 79,
                  "2019-08-14": 79,
                  "2019-08-15": 79,
                  "2019-08-16": 79,
                  "2019-08-17": 79,
                  "2019-08-18": 79,
                  "2019-08-19": 79,
                  "2019-08-20": 79,
                  "2019-08-21": 79,
                  "2019-08-22": 79,
                  "2019-08-23": 79,
                  "2019-08-24": 79,
                  "2019-08-25": 79,
                  "2019-08-26": 79,
                  "2019-08-27": 79,
                  "2019-08-28": 79,
                  "2019-08-29": 79,
                  "2019-08-30": 79,
                  "2019-08-31": 79,
                  "2019-09-01": 79,
                  "2019-09-02": 79,
                  "2019-09-03": 79,
                  "2019-09-04": 79,
                  "2019-09-05": 79,
                  "2019-09-06": 79,
                  "2019-09-07": 79,
                  "2019-09-08": 79,
                  "2019-09-09": 79,
                  "2019-09-10": 79,
                  "2019-09-11": 79,
                  "2019-09-12": 79,
                  "2019-09-13": 79,
                  "2019-09-14": 79,
                  "2019-09-15": 79,
                  "2019-09-16": 79,
                  "2019-09-17": 79,
                  "2019-09-18": 79,
                  "2019-09-19": 79,
                  "2019-09-20": 79,
                  "2019-09-21": 79,
                  "2019-09-22": 79,
                  "2019-09-23": 79,
                  "2019-09-24": 79,
                  "2019-09-25": 79,
                  "2019-09-26": 79,
                  "2019-09-27": 79,
                  "2019-09-28": 79,
                  "2019-09-29": 79,
                  "2019-09-30": 79,
                  "2019-10-01": 79,
                  "2019-10-02": 79,
                  "2019-10-03": 79,
                  "2019-10-04": 79,
                  "2019-10-05": 79,
                  "2019-10-06": 79,
                  "2019-10-07": 79,
                  "2019-10-08": 79,
                  "2019-10-09": 79,
                  "2019-10-10": 79,
                  "2019-10-11": 79,
                  "2019-10-12": 79,
                  "2019-10-13": 79,
                  "2019-10-14": 79,
                  "2019-10-15": 79,
                  "2019-10-16": 79,
                  "2019-10-17": 79,
                  "2019-10-18": 79,
                  "2019-10-19": 79,
                  "2019-10-20": 79,
                  "2019-10-21": 79,
                  "2019-10-22": 79,
                  "2019-10-23": 79,
                  "2019-10-24": 79,
                  "2019-10-25": 79,
                  "2019-10-26": 79,
                  "2019-10-27": 79,
                  "2019-10-28": 79,
                  "2019-10-29": 79,
                  "2019-10-30": 79,
                  "2019-10-31": 79,
                  "2019-11-01": 79,
                  "2019-11-02": 79,
                  "2019-11-03": 79,
                  "2019-11-04": 79,
                  "2019-11-05": 79,
                  "2019-11-06": 79,
                  "2019-11-07": 79,
                  "2019-11-08": 79,
                  "2019-11-09": 79,
                  "2019-11-10": 79,
                  "2019-11-11": 79,
                  "2019-11-12": 79,
                  "2019-11-13": 79,
                  "2019-11-14": 79,
                  "2019-11-15": 79,
                  "2019-11-16": 79,
                  "2019-11-17": 79,
                  "2019-11-18": 79,
                  "2019-11-19": 79,
                  "2019-11-20": 79,
                  "2019-11-21": 79,
                  "2019-11-22": 79,
                  "2019-11-23": 79,
                  "2019-11-24": 79,
                  "2019-11-25": 79,
                  "2019-11-26": 79,
                  "2019-11-27": 79,
                  "2019-11-28": 79,
                  "2019-11-29": 79,
                  "2019-11-30": 79
                }
              },
              {
                _id: {
                  $oid: "5d22ce340ad30f29250d4152"
                },
                property_code: "100003",
                name: "Double Half Board",
                room_category: "5d22cdcc0ad30f29230fd622",
                meal_plan: "Half Board",
                base_occupancy: "02",
                rack_rate: null,
                support_additional_adult: "off",
                prices: {
                  "2019-07-01": 95,
                  "2019-07-02": 95,
                  "2019-07-03": 95,
                  "2019-07-04": 95,
                  "2019-07-05": 95,
                  "2019-07-06": 95,
                  "2019-07-07": 95,
                  "2019-07-08": 95,
                  "2019-07-09": 95,
                  "2019-07-10": 95,
                  "2019-07-11": 95,
                  "2019-07-12": 95,
                  "2019-07-13": 95,
                  "2019-07-14": 95,
                  "2019-07-15": 95,
                  "2019-07-16": 95,
                  "2019-07-17": 95,
                  "2019-07-18": 95,
                  "2019-07-19": 95,
                  "2019-07-20": 95,
                  "2019-07-21": 95,
                  "2019-07-22": 95,
                  "2019-07-23": 95,
                  "2019-07-24": 95,
                  "2019-07-25": 95,
                  "2019-07-26": 95,
                  "2019-07-27": 95,
                  "2019-07-28": 95,
                  "2019-07-29": 95,
                  "2019-07-30": 95,
                  "2019-07-31": 95,
                  "2019-08-01": 95,
                  "2019-08-02": 95,
                  "2019-08-03": 95,
                  "2019-08-04": 95,
                  "2019-08-05": 95,
                  "2019-08-06": 95,
                  "2019-08-07": 95,
                  "2019-08-08": 95,
                  "2019-08-09": 95,
                  "2019-08-10": 95,
                  "2019-08-11": 95,
                  "2019-08-12": 95,
                  "2019-08-13": 95,
                  "2019-08-14": 95,
                  "2019-08-15": 95,
                  "2019-08-16": 95,
                  "2019-08-17": 95,
                  "2019-08-18": 95,
                  "2019-08-19": 95,
                  "2019-08-20": 95,
                  "2019-08-21": 95,
                  "2019-08-22": 95,
                  "2019-08-23": 95,
                  "2019-08-24": 95,
                  "2019-08-25": 95,
                  "2019-08-26": 95,
                  "2019-08-27": 95,
                  "2019-08-28": 95,
                  "2019-08-29": 95,
                  "2019-08-30": 95,
                  "2019-08-31": 95,
                  "2019-09-01": 95,
                  "2019-09-02": 95,
                  "2019-09-03": 95,
                  "2019-09-04": 95,
                  "2019-09-05": 95,
                  "2019-09-06": 95,
                  "2019-09-07": 95,
                  "2019-09-08": 95,
                  "2019-09-09": 95,
                  "2019-09-10": 95,
                  "2019-09-11": 95,
                  "2019-09-12": 95,
                  "2019-09-13": 95,
                  "2019-09-14": 95,
                  "2019-09-15": 95,
                  "2019-09-16": 95,
                  "2019-09-17": 95,
                  "2019-09-18": 95,
                  "2019-09-19": 95,
                  "2019-09-20": 95,
                  "2019-09-21": 95,
                  "2019-09-22": 95,
                  "2019-09-23": 95,
                  "2019-09-24": 95,
                  "2019-09-25": 95,
                  "2019-09-26": 95,
                  "2019-09-27": 95,
                  "2019-09-28": 95,
                  "2019-09-29": 95,
                  "2019-09-30": 95,
                  "2019-10-01": 95,
                  "2019-10-02": 95,
                  "2019-10-03": 95,
                  "2019-10-04": 95,
                  "2019-10-05": 95,
                  "2019-10-06": 95,
                  "2019-10-07": 95,
                  "2019-10-08": 95,
                  "2019-10-09": 95,
                  "2019-10-10": 95,
                  "2019-10-11": 95,
                  "2019-10-12": 95,
                  "2019-10-13": 95,
                  "2019-10-14": 95,
                  "2019-10-15": 95,
                  "2019-10-16": 95,
                  "2019-10-17": 95,
                  "2019-10-18": 95,
                  "2019-10-19": 95,
                  "2019-10-20": 95,
                  "2019-10-21": 95,
                  "2019-10-22": 95,
                  "2019-10-23": 95,
                  "2019-10-24": 95,
                  "2019-10-25": 95,
                  "2019-10-26": 95,
                  "2019-10-27": 95,
                  "2019-10-28": 95,
                  "2019-10-29": 95,
                  "2019-10-30": 95,
                  "2019-10-31": 95,
                  "2019-11-01": 95,
                  "2019-11-02": 95,
                  "2019-11-03": 95,
                  "2019-11-04": 95,
                  "2019-11-05": 95,
                  "2019-11-06": 95,
                  "2019-11-07": 95,
                  "2019-11-08": 95,
                  "2019-11-09": 95,
                  "2019-11-10": 95,
                  "2019-11-11": 95,
                  "2019-11-12": 95,
                  "2019-11-13": 95,
                  "2019-11-14": 95,
                  "2019-11-15": 95,
                  "2019-11-16": 95,
                  "2019-11-17": 95,
                  "2019-11-18": 95,
                  "2019-11-19": 95,
                  "2019-11-20": 95,
                  "2019-11-21": 95,
                  "2019-11-22": 95,
                  "2019-11-23": 95,
                  "2019-11-24": 95,
                  "2019-11-25": 95,
                  "2019-11-26": 95,
                  "2019-11-27": 95,
                  "2019-11-28": 95,
                  "2019-11-29": 95,
                  "2019-11-30": 95
                }
              },
              {
                _id: {
                  $oid: "5d22ce3b0ad30f29230fd623"
                },
                property_code: "100003",
                name: "Double Full Board",
                room_category: "5d22cdcc0ad30f29230fd622",
                meal_plan: "Full Board",
                base_occupancy: "02",
                rack_rate: null,
                support_additional_adult: "off",
                prices: {
                  "2019-07-01": 110,
                  "2019-07-02": 110,
                  "2019-07-03": 110,
                  "2019-07-04": 110,
                  "2019-07-05": 110,
                  "2019-07-06": 110,
                  "2019-07-07": 110,
                  "2019-07-08": 110,
                  "2019-07-09": 110,
                  "2019-07-10": 110,
                  "2019-07-11": 110,
                  "2019-07-12": 110,
                  "2019-07-13": 110,
                  "2019-07-14": 110,
                  "2019-07-15": 110,
                  "2019-07-16": 110,
                  "2019-07-17": 110,
                  "2019-07-18": 110,
                  "2019-07-19": 110,
                  "2019-07-20": 110,
                  "2019-07-21": 110,
                  "2019-07-22": 110,
                  "2019-07-23": 110,
                  "2019-07-24": 110,
                  "2019-07-25": 110,
                  "2019-07-26": 110,
                  "2019-07-27": 110,
                  "2019-07-28": 110,
                  "2019-07-29": 110,
                  "2019-07-30": 110,
                  "2019-07-31": 110,
                  "2019-08-01": 110,
                  "2019-08-02": 110,
                  "2019-08-03": 110,
                  "2019-08-04": 110,
                  "2019-08-05": 110,
                  "2019-08-06": 110,
                  "2019-08-07": 110,
                  "2019-08-08": 110,
                  "2019-08-09": 110,
                  "2019-08-10": 110,
                  "2019-08-11": 110,
                  "2019-08-12": 110,
                  "2019-08-13": 110,
                  "2019-08-14": 110,
                  "2019-08-15": 110,
                  "2019-08-16": 110,
                  "2019-08-17": 110,
                  "2019-08-18": 110,
                  "2019-08-19": 110,
                  "2019-08-20": 110,
                  "2019-08-21": 110,
                  "2019-08-22": 110,
                  "2019-08-23": 110,
                  "2019-08-24": 110,
                  "2019-08-25": 110,
                  "2019-08-26": 110,
                  "2019-08-27": 110,
                  "2019-08-28": 110,
                  "2019-08-29": 110,
                  "2019-08-30": 110,
                  "2019-08-31": 110,
                  "2019-09-01": 110,
                  "2019-09-02": 110,
                  "2019-09-03": 110,
                  "2019-09-04": 110,
                  "2019-09-05": 110,
                  "2019-09-06": 110,
                  "2019-09-07": 110,
                  "2019-09-08": 110,
                  "2019-09-09": 110,
                  "2019-09-10": 110,
                  "2019-09-11": 110,
                  "2019-09-12": 110,
                  "2019-09-13": 110,
                  "2019-09-14": 110,
                  "2019-09-15": 110,
                  "2019-09-16": 110,
                  "2019-09-17": 110,
                  "2019-09-18": 110,
                  "2019-09-19": 110,
                  "2019-09-20": 110,
                  "2019-09-21": 110,
                  "2019-09-22": 110,
                  "2019-09-23": 110,
                  "2019-09-24": 110,
                  "2019-09-25": 110,
                  "2019-09-26": 110,
                  "2019-09-27": 110,
                  "2019-09-28": 110,
                  "2019-09-29": 110,
                  "2019-09-30": 110,
                  "2019-10-01": 110,
                  "2019-10-02": 110,
                  "2019-10-03": 110,
                  "2019-10-04": 110,
                  "2019-10-05": 110,
                  "2019-10-06": 110,
                  "2019-10-07": 110,
                  "2019-10-08": 110,
                  "2019-10-09": 110,
                  "2019-10-10": 110,
                  "2019-10-11": 110,
                  "2019-10-12": 110,
                  "2019-10-13": 110,
                  "2019-10-14": 110,
                  "2019-10-15": 110,
                  "2019-10-16": 110,
                  "2019-10-17": 110,
                  "2019-10-18": 110,
                  "2019-10-19": 110,
                  "2019-10-20": 110,
                  "2019-10-21": 110,
                  "2019-10-22": 110,
                  "2019-10-23": 110,
                  "2019-10-24": 110,
                  "2019-10-25": 110,
                  "2019-10-26": 110,
                  "2019-10-27": 110,
                  "2019-10-28": 110,
                  "2019-10-29": 110,
                  "2019-10-30": 110,
                  "2019-10-31": 110,
                  "2019-11-01": 110,
                  "2019-11-02": 110,
                  "2019-11-03": 110,
                  "2019-11-04": 110,
                  "2019-11-05": 110,
                  "2019-11-06": 110,
                  "2019-11-07": 110,
                  "2019-11-08": 110,
                  "2019-11-09": 110,
                  "2019-11-10": 110,
                  "2019-11-11": 110,
                  "2019-11-12": 110,
                  "2019-11-13": 110,
                  "2019-11-14": 110,
                  "2019-11-15": 110,
                  "2019-11-16": 110,
                  "2019-11-17": 110,
                  "2019-11-18": 110,
                  "2019-11-19": 110,
                  "2019-11-20": 110,
                  "2019-11-21": 110,
                  "2019-11-22": 110,
                  "2019-11-23": 110,
                  "2019-11-24": 110,
                  "2019-11-25": 110,
                  "2019-11-26": 110,
                  "2019-11-27": 110,
                  "2019-11-28": 110,
                  "2019-11-29": 110,
                  "2019-11-30": 110
                }
              },
              {
                _id: {
                  $oid: "5d22ce420ad30f28b3188343"
                },
                property_code: "100003",
                name: "Triple Bed & Breakfast",
                room_category: "5d22cdcc0ad30f29230fd622",
                meal_plan: "Bed & Breakfast",
                base_occupancy: "03",
                rack_rate: null,
                support_additional_adult: "off",
                prices: {
                  "2019-07-01": 87,
                  "2019-07-02": 87,
                  "2019-07-03": 87,
                  "2019-07-04": 87,
                  "2019-07-05": 87,
                  "2019-07-06": 87,
                  "2019-07-07": 87,
                  "2019-07-08": 87,
                  "2019-07-09": 87,
                  "2019-07-10": 87,
                  "2019-07-11": 87,
                  "2019-07-12": 87,
                  "2019-07-13": 87,
                  "2019-07-14": 87,
                  "2019-07-15": 87,
                  "2019-07-16": 87,
                  "2019-07-17": 87,
                  "2019-07-18": 87,
                  "2019-07-19": 87,
                  "2019-07-20": 87,
                  "2019-07-21": 87,
                  "2019-07-22": 87,
                  "2019-07-23": 87,
                  "2019-07-24": 87,
                  "2019-07-25": 87,
                  "2019-07-26": 87,
                  "2019-07-27": 87,
                  "2019-07-28": 87,
                  "2019-07-29": 87,
                  "2019-07-30": 87,
                  "2019-07-31": 87,
                  "2019-08-01": 87,
                  "2019-08-02": 87,
                  "2019-08-03": 87,
                  "2019-08-04": 87,
                  "2019-08-05": 87,
                  "2019-08-06": 87,
                  "2019-08-07": 87,
                  "2019-08-08": 87,
                  "2019-08-09": 87,
                  "2019-08-10": 87,
                  "2019-08-11": 87,
                  "2019-08-12": 87,
                  "2019-08-13": 87,
                  "2019-08-14": 87,
                  "2019-08-15": 87,
                  "2019-08-16": 87,
                  "2019-08-17": 87,
                  "2019-08-18": 87,
                  "2019-08-19": 87,
                  "2019-08-20": 87,
                  "2019-08-21": 87,
                  "2019-08-22": 87,
                  "2019-08-23": 87,
                  "2019-08-24": 87,
                  "2019-08-25": 87,
                  "2019-08-26": 87,
                  "2019-08-27": 87,
                  "2019-08-28": 87,
                  "2019-08-29": 87,
                  "2019-08-30": 87,
                  "2019-08-31": 87,
                  "2019-09-01": 87,
                  "2019-09-02": 87,
                  "2019-09-03": 87,
                  "2019-09-04": 87,
                  "2019-09-05": 87,
                  "2019-09-06": 87,
                  "2019-09-07": 87,
                  "2019-09-08": 87,
                  "2019-09-09": 87,
                  "2019-09-10": 87,
                  "2019-09-11": 87,
                  "2019-09-12": 87,
                  "2019-09-13": 87,
                  "2019-09-14": 87,
                  "2019-09-15": 87,
                  "2019-09-16": 87,
                  "2019-09-17": 87,
                  "2019-09-18": 87,
                  "2019-09-19": 87,
                  "2019-09-20": 87,
                  "2019-09-21": 87,
                  "2019-09-22": 87,
                  "2019-09-23": 87,
                  "2019-09-24": 87,
                  "2019-09-25": 87,
                  "2019-09-26": 87,
                  "2019-09-27": 87,
                  "2019-09-28": 87,
                  "2019-09-29": 87,
                  "2019-09-30": 87,
                  "2019-10-01": 87,
                  "2019-10-02": 87,
                  "2019-10-03": 87,
                  "2019-10-04": 87,
                  "2019-10-05": 87,
                  "2019-10-06": 87,
                  "2019-10-07": 87,
                  "2019-10-08": 87,
                  "2019-10-09": 87,
                  "2019-10-10": 87,
                  "2019-10-11": 87,
                  "2019-10-12": 87,
                  "2019-10-13": 87,
                  "2019-10-14": 87,
                  "2019-10-15": 87,
                  "2019-10-16": 87,
                  "2019-10-17": 87,
                  "2019-10-18": 87,
                  "2019-10-19": 87,
                  "2019-10-20": 87,
                  "2019-10-21": 87,
                  "2019-10-22": 87,
                  "2019-10-23": 87,
                  "2019-10-24": 87,
                  "2019-10-25": 87,
                  "2019-10-26": 87,
                  "2019-10-27": 87,
                  "2019-10-28": 87,
                  "2019-10-29": 87,
                  "2019-10-30": 87,
                  "2019-10-31": 87,
                  "2019-11-01": 87,
                  "2019-11-02": 87,
                  "2019-11-03": 87,
                  "2019-11-04": 87,
                  "2019-11-05": 87,
                  "2019-11-06": 87,
                  "2019-11-07": 87,
                  "2019-11-08": 87,
                  "2019-11-09": 87,
                  "2019-11-10": 87,
                  "2019-11-11": 87,
                  "2019-11-12": 87,
                  "2019-11-13": 87,
                  "2019-11-14": 87,
                  "2019-11-15": 87,
                  "2019-11-16": 87,
                  "2019-11-17": 87,
                  "2019-11-18": 87,
                  "2019-11-19": 87,
                  "2019-11-20": 87,
                  "2019-11-21": 87,
                  "2019-11-22": 87,
                  "2019-11-23": 87,
                  "2019-11-24": 87,
                  "2019-11-25": 87,
                  "2019-11-26": 87,
                  "2019-11-27": 87,
                  "2019-11-28": 87,
                  "2019-11-29": 87,
                  "2019-11-30": 87
                }
              },
              {
                _id: {
                  $oid: "5d22ce4a0ad30f28ea35d203"
                },
                property_code: "100003",
                name: "Triple Half Board",
                room_category: "5d22cdcc0ad30f29230fd622",
                meal_plan: "Half Board",
                base_occupancy: "03",
                rack_rate: null,
                support_additional_adult: "off",
                prices: {
                  "2019-07-01": 11,
                  "2019-07-02": 11,
                  "2019-07-03": 11,
                  "2019-07-04": 11,
                  "2019-07-05": 11,
                  "2019-07-06": 11,
                  "2019-07-07": 11,
                  "2019-07-08": 11,
                  "2019-07-09": 11,
                  "2019-07-10": 11,
                  "2019-07-11": 11,
                  "2019-07-12": 11,
                  "2019-07-13": 11,
                  "2019-07-14": 11,
                  "2019-07-15": 11,
                  "2019-07-16": 11,
                  "2019-07-17": 11,
                  "2019-07-18": 11,
                  "2019-07-19": 11,
                  "2019-07-20": 11,
                  "2019-07-21": 11,
                  "2019-07-22": 11,
                  "2019-07-23": 11,
                  "2019-07-24": 11,
                  "2019-07-25": 11,
                  "2019-07-26": 11,
                  "2019-07-27": 11,
                  "2019-07-28": 11,
                  "2019-07-29": 11,
                  "2019-07-30": 11,
                  "2019-07-31": 11,
                  "2019-08-01": 11,
                  "2019-08-02": 11,
                  "2019-08-03": 11,
                  "2019-08-04": 11,
                  "2019-08-05": 11,
                  "2019-08-06": 11,
                  "2019-08-07": 11,
                  "2019-08-08": 11,
                  "2019-08-09": 11,
                  "2019-08-10": 11,
                  "2019-08-11": 11,
                  "2019-08-12": 11,
                  "2019-08-13": 11,
                  "2019-08-14": 11,
                  "2019-08-15": 11,
                  "2019-08-16": 11,
                  "2019-08-17": 11,
                  "2019-08-18": 11,
                  "2019-08-19": 11,
                  "2019-08-20": 11,
                  "2019-08-21": 11,
                  "2019-08-22": 11,
                  "2019-08-23": 11,
                  "2019-08-24": 11,
                  "2019-08-25": 11,
                  "2019-08-26": 11,
                  "2019-08-27": 11,
                  "2019-08-28": 11,
                  "2019-08-29": 11,
                  "2019-08-30": 11,
                  "2019-08-31": 11,
                  "2019-09-01": 11,
                  "2019-09-02": 11,
                  "2019-09-03": 11,
                  "2019-09-04": 11,
                  "2019-09-05": 11,
                  "2019-09-06": 11,
                  "2019-09-07": 11,
                  "2019-09-08": 11,
                  "2019-09-09": 11,
                  "2019-09-10": 11,
                  "2019-09-11": 11,
                  "2019-09-12": 11,
                  "2019-09-13": 11,
                  "2019-09-14": 11,
                  "2019-09-15": 11,
                  "2019-09-16": 11,
                  "2019-09-17": 11,
                  "2019-09-18": 11,
                  "2019-09-19": 11,
                  "2019-09-20": 11,
                  "2019-09-21": 11,
                  "2019-09-22": 11,
                  "2019-09-23": 11,
                  "2019-09-24": 11,
                  "2019-09-25": 11,
                  "2019-09-26": 11,
                  "2019-09-27": 11,
                  "2019-09-28": 11,
                  "2019-09-29": 11,
                  "2019-09-30": 11,
                  "2019-10-01": 11,
                  "2019-10-02": 11,
                  "2019-10-03": 11,
                  "2019-10-04": 11,
                  "2019-10-05": 11,
                  "2019-10-06": 11,
                  "2019-10-07": 11,
                  "2019-10-08": 11,
                  "2019-10-09": 11,
                  "2019-10-10": 11,
                  "2019-10-11": 11,
                  "2019-10-12": 11,
                  "2019-10-13": 11,
                  "2019-10-14": 11,
                  "2019-10-15": 11,
                  "2019-10-16": 11,
                  "2019-10-17": 11,
                  "2019-10-18": 11,
                  "2019-10-19": 11,
                  "2019-10-20": 11,
                  "2019-10-21": 11,
                  "2019-10-22": 11,
                  "2019-10-23": 11,
                  "2019-10-24": 11,
                  "2019-10-25": 11,
                  "2019-10-26": 11,
                  "2019-10-27": 11,
                  "2019-10-28": 11,
                  "2019-10-29": 11,
                  "2019-10-30": 11,
                  "2019-10-31": 11,
                  "2019-11-01": 11,
                  "2019-11-02": 11,
                  "2019-11-03": 11,
                  "2019-11-04": 11,
                  "2019-11-05": 11,
                  "2019-11-06": 11,
                  "2019-11-07": 11,
                  "2019-11-08": 11,
                  "2019-11-09": 11,
                  "2019-11-10": 11,
                  "2019-11-11": 11,
                  "2019-11-12": 11,
                  "2019-11-13": 11,
                  "2019-11-14": 11,
                  "2019-11-15": 11,
                  "2019-11-16": 11,
                  "2019-11-17": 11,
                  "2019-11-18": 11,
                  "2019-11-19": 11,
                  "2019-11-20": 11,
                  "2019-11-21": 11,
                  "2019-11-22": 11,
                  "2019-11-23": 11,
                  "2019-11-24": 11,
                  "2019-11-25": 11,
                  "2019-11-26": 11,
                  "2019-11-27": 11,
                  "2019-11-28": 11,
                  "2019-11-29": 11,
                  "2019-11-30": 11
                }
              },
              {
                _id: {
                  $oid: "5d2372820ad30f3bc52ae8b3"
                },
                property_code: "100003",
                name: "Triple Full Board",
                room_category: "5d22cdcc0ad30f29230fd622",
                meal_plan: "Full Board",
                base_occupancy: "3",
                rack_rate: null,
                support_additional_adult: "off",
                prices: {
                  "2019-07-01": 135,
                  "2019-07-02": 135,
                  "2019-07-03": 135,
                  "2019-07-04": 135,
                  "2019-07-05": 135,
                  "2019-07-06": 135,
                  "2019-07-07": 135,
                  "2019-07-08": 135,
                  "2019-07-09": 135,
                  "2019-07-10": 135,
                  "2019-07-11": 135,
                  "2019-07-12": 135,
                  "2019-07-13": 135,
                  "2019-07-14": 135,
                  "2019-07-15": 135,
                  "2019-07-16": 135,
                  "2019-07-17": 135,
                  "2019-07-18": 135,
                  "2019-07-19": 135,
                  "2019-07-20": 135,
                  "2019-07-21": 135,
                  "2019-07-22": 135,
                  "2019-07-23": 135,
                  "2019-07-24": 135,
                  "2019-07-25": 135,
                  "2019-07-26": 135,
                  "2019-07-27": 135,
                  "2019-07-28": 135,
                  "2019-07-29": 135,
                  "2019-07-30": 135,
                  "2019-07-31": 135,
                  "2019-08-01": 135,
                  "2019-08-02": 135,
                  "2019-08-03": 135,
                  "2019-08-04": 135,
                  "2019-08-05": 135,
                  "2019-08-06": 135,
                  "2019-08-07": 135,
                  "2019-08-08": 135,
                  "2019-08-09": 135,
                  "2019-08-10": 135,
                  "2019-08-11": 135,
                  "2019-08-12": 135,
                  "2019-08-13": 135,
                  "2019-08-14": 135,
                  "2019-08-15": 135,
                  "2019-08-16": 135,
                  "2019-08-17": 135,
                  "2019-08-18": 135,
                  "2019-08-19": 135,
                  "2019-08-20": 135,
                  "2019-08-21": 135,
                  "2019-08-22": 135,
                  "2019-08-23": 135,
                  "2019-08-24": 135,
                  "2019-08-25": 135,
                  "2019-08-26": 135,
                  "2019-08-27": 135,
                  "2019-08-28": 135,
                  "2019-08-29": 135,
                  "2019-08-30": 135,
                  "2019-08-31": 135,
                  "2019-09-01": 135,
                  "2019-09-02": 135,
                  "2019-09-03": 135,
                  "2019-09-04": 135,
                  "2019-09-05": 135,
                  "2019-09-06": 135,
                  "2019-09-07": 135,
                  "2019-09-08": 135,
                  "2019-09-09": 135,
                  "2019-09-10": 135,
                  "2019-09-11": 135,
                  "2019-09-12": 135,
                  "2019-09-13": 135,
                  "2019-09-14": 135,
                  "2019-09-15": 135,
                  "2019-09-16": 135,
                  "2019-09-17": 135,
                  "2019-09-18": 135,
                  "2019-09-19": 135,
                  "2019-09-20": 135,
                  "2019-09-21": 135,
                  "2019-09-22": 135,
                  "2019-09-23": 135,
                  "2019-09-24": 135,
                  "2019-09-25": 135,
                  "2019-09-26": 135,
                  "2019-09-27": 135,
                  "2019-09-28": 135,
                  "2019-09-29": 135,
                  "2019-09-30": 135,
                  "2019-10-01": 135,
                  "2019-10-02": 135,
                  "2019-10-03": 135,
                  "2019-10-04": 135,
                  "2019-10-05": 135,
                  "2019-10-06": 135,
                  "2019-10-07": 135,
                  "2019-10-08": 135,
                  "2019-10-09": 135,
                  "2019-10-10": 135,
                  "2019-10-11": 135,
                  "2019-10-12": 135,
                  "2019-10-13": 135,
                  "2019-10-14": 135,
                  "2019-10-15": 135,
                  "2019-10-16": 135,
                  "2019-10-17": 135,
                  "2019-10-18": 135,
                  "2019-10-19": 135,
                  "2019-10-20": 135,
                  "2019-10-21": 135,
                  "2019-10-22": 135,
                  "2019-10-23": 135,
                  "2019-10-24": 135,
                  "2019-10-25": 135,
                  "2019-10-26": 135,
                  "2019-10-27": 135,
                  "2019-10-28": 135,
                  "2019-10-29": 135,
                  "2019-10-30": 135,
                  "2019-10-31": 135,
                  "2019-11-01": 135,
                  "2019-11-02": 135,
                  "2019-11-03": 135,
                  "2019-11-04": 135,
                  "2019-11-05": 135,
                  "2019-11-06": 135,
                  "2019-11-07": 135,
                  "2019-11-08": 135,
                  "2019-11-09": 135,
                  "2019-11-10": 135,
                  "2019-11-11": 135,
                  "2019-11-12": 135,
                  "2019-11-13": 135,
                  "2019-11-14": 135,
                  "2019-11-15": 135,
                  "2019-11-16": 135,
                  "2019-11-17": 135,
                  "2019-11-18": 135,
                  "2019-11-19": 135,
                  "2019-11-20": 135,
                  "2019-11-21": 135,
                  "2019-11-22": 135,
                  "2019-11-23": 135,
                  "2019-11-24": 135,
                  "2019-11-25": 135,
                  "2019-11-26": 135,
                  "2019-11-27": 135,
                  "2019-11-28": 135,
                  "2019-11-29": 135,
                  "2019-11-30": 135
                }
              }
            ],
            availability: {
              "2019-10-10": 5,
              "2019-10-11": 5,
              "2019-10-12": 5,
              "2019-10-13": 5,
              "2019-10-14": 5,
              "2019-10-15": 5,
              "2019-10-16": 5,
              "2019-10-17": 5,
              "2019-10-18": 5,
              "2019-10-19": 5,
              "2019-10-20": 5,
              "2019-10-21": 5,
              "2019-10-22": 5,
              "2019-10-23": 5,
              "2019-10-24": 5,
              "2019-10-25": 5,
              "2019-10-26": 5,
              "2019-10-27": 5,
              "2019-10-28": 5,
              "2019-10-29": 5,
              "2019-10-30": 5,
              "2019-10-31": 5,
              "2019-11-01": 5,
              "2019-11-02": 5,
              "2019-11-03": 5,
              "2019-11-04": 5,
              "2019-11-05": 5,
              "2019-11-06": 5,
              "2019-11-07": 5,
              "2019-11-08": 5,
              "2019-11-09": 5,
              "2019-11-10": 5
            }
          }
        ],
        categories: {
          "0": "Please select",
          "5d22cdcc0ad30f29230fd622": "Deluxe Room"
        },
        months: {
          "Jun 2019": "Jun 2019",
          "Jul 2019": "Jul 2019",
          "Aug 2019": "Aug 2019",
          "Sep 2019": "Sep 2019",
          "Oct 2019": "Oct 2019",
          "Nov 2019": "Nov 2019",
          "Dec 2019": "Dec 2019",
          "Jan 2020": "Jan 2020",
          "Feb 2020": "Feb 2020",
          "Mar 2020": "Mar 2020",
          "Apr 2020": "Apr 2020",
          "May 2020": "May 2020"
        },
        days: [
          ["Thu", "10", "Oct", "2019", "2019-10-10"],
          ["Fri", "11", "Oct", "2019", "2019-10-11"],
          ["Sat", "12", "Oct", "2019", "2019-10-12"],
          ["Sun", "13", "Oct", "2019", "2019-10-13"],
          ["Mon", "14", "Oct", "2019", "2019-10-14"],
          ["Tue", "15", "Oct", "2019", "2019-10-15"],
          ["Wed", "16", "Oct", "2019", "2019-10-16"],
          ["Thu", "17", "Oct", "2019", "2019-10-17"],
          ["Fri", "18", "Oct", "2019", "2019-10-18"],
          ["Sat", "19", "Oct", "2019", "2019-10-19"],
          ["Sun", "20", "Oct", "2019", "2019-10-20"],
          ["Mon", "21", "Oct", "2019", "2019-10-21"],
          ["Tue", "22", "Oct", "2019", "2019-10-22"],
          ["Wed", "23", "Oct", "2019", "2019-10-23"],
          ["Thu", "24", "Oct", "2019", "2019-10-24"],
          ["Fri", "25", "Oct", "2019", "2019-10-25"],
          ["Sat", "26", "Oct", "2019", "2019-10-26"],
          ["Sun", "27", "Oct", "2019", "2019-10-27"],
          ["Mon", "28", "Oct", "2019", "2019-10-28"],
          ["Tue", "29", "Oct", "2019", "2019-10-29"],
          ["Wed", "30", "Oct", "2019", "2019-10-30"],
          ["Thu", "31", "Oct", "2019", "2019-10-31"],
          ["Fri", "01", "Nov", "2019", "2019-11-01"],
          ["Sat", "02", "Nov", "2019", "2019-11-02"],
          ["Sun", "03", "Nov", "2019", "2019-11-03"],
          ["Mon", "04", "Nov", "2019", "2019-11-04"],
          ["Tue", "05", "Nov", "2019", "2019-11-05"],
          ["Wed", "06", "Nov", "2019", "2019-11-06"],
          ["Thu", "07", "Nov", "2019", "2019-11-07"],
          ["Fri", "08", "Nov", "2019", "2019-11-08"],
          ["Sat", "09", "Nov", "2019", "2019-11-09"],
          ["Sun", "10", "Nov", "2019", "2019-11-10"]
        ]
      }
    };

    this.loadList();
  }

  async loadList() {
    const response = await axios.post(
      this.props.settings.url +
        "/api/get_availability?api_token=88d20ed5e541d92a80c595fc414359fb047a71a3dff71bd1a0daac824ab4d6cb"
    );

    var data = response.data;
    this.props.setData(response.data);
    console.log(this.props.availability.data.data_grid.rooms);
  }

  onClickLeft() {
    document.getElementById("ui-scroller").scrollLeft += 20;
  }

  onClickRight() {
    document.getElementById("ui-scroller").scrollLeft -= 20;
  }

  onRoomEdit() {
    console.log(this.state.availability);
    var val = this.state.availability[0];
    this.setState({ availability: this.state.availability[0] + 1 });
  }

  onClickSave() {
    var formData = new FormData();
    var avl = this.state.availability;
    var price = this.state.rates;
    formData.append("availability", JSON.stringify(avl));
    formData.append("price", JSON.stringify(price));

    formData.set(
      "api_token",
      "88d20ed5e541d92a80c595fc414359fb047a71a3dff71bd1a0daac824ab4d6cb"
    );
    //console.log(formData.getAll('availability'));
    const response = axios.post(
      this.props.settings.url + "/api/save_availability",
      formData,
      {}
    );
  }

  handleOnAvailabilityChange(roomId, day, event) {
    var data = this.state.availability;
    if (data[roomId] == null) {
      data[roomId] = {};
    }

    data[roomId][day] = event.target.value;
    console.log(data);
    this.setState({ availability: data });
  }

  async handleOnRateChange(rateId, day, event) {
    var data = this.state.rates;

    if (data[rateId] == null) {
      data[rateId] = {};
    }
    data[rateId][day] = event.target.value;
    console.log(data);
    this.setState({ rates: data });
  }

  filterData = data => {
    const { days, categories, months, view } = this.state;

    const result = { ...data };
    if (days && days.length > 0) {
      const daysFilter = result.days.filter(item => days.includes(item[0]));
      result.days = daysFilter;
    }

    if (months && months.length > 0) {
      const daysFilter = result.days.filter(item => months.includes(item[2]));
      result.days = daysFilter;
    }

    return result;
  };

  onChangeFilter = type => e => {
    switch (type) {
      case "DAYS":
        this.setState({ days: e && e.map(item => item.value) });
        break;
      case "CATEGORY":
        this.setState({ categories: e && e.map(item => item.value) });
        break;
      case "MONTH":
        this.setState({ months: e && e.value });
        break;
      default:
        break;
    }
  };

  render() {
    const { dataTest } = this.state;
    const filterData = this.filterData(dataTest);

    return (
      <div>
        {/* --------------------------------------------------------------------------------*/}
        {/* Row*/}
        {/* --------------------------------------------------------------------------------*/}
        <Card>
          <CardBody className="">
            <div className="form-group row">
              <div className="col-sm-3">
                <div
                  style={{
                    fontWeight: 600,
                    marginBottom: "10px",
                    fontSize: "17px"
                  }}
                >
                  Room Category
                </div>
                <Select
                  defaultValue={[]}
                  isMulti
                  name="Days"
                  isClearable
                  options={optionsCategory}
                  className="basic-multi-select"
                  classNamePrefix="select"
                  onChange={this.onChangeFilter("CATEGORY")}
                />
              </div>
              <div className="col-sm-3">
                <div
                  style={{
                    fontWeight: 600,
                    marginBottom: "10px",
                    fontSize: "17px"
                  }}
                >
                  Month
                </div>
                <Select
                  defaultValue={[]}
                  name="Days"
                  options={optionsMonth}
                  isClearable
                  className="basic-multi-select"
                  classNamePrefix="select"
                  onChange={this.onChangeFilter("MONTH")}
                />
              </div>
              <div className="col-sm-3">
                <div
                  style={{
                    fontWeight: 600,
                    marginBottom: "10px",
                    fontSize: "17px"
                  }}
                >
                  Days
                </div>
                <Select
                  defaultValue={[]}
                  isMulti
                  name="Days"
                  options={optionsDays}
                  className="basic-multi-select"
                  classNamePrefix="select"
                  onChange={this.onChangeFilter("DAYS")}
                />
              </div>
              <div className="col-sm-3">
                <div
                  style={{
                    fontWeight: 600,
                    marginBottom: "10px",
                    fontSize: "17px"
                  }}
                >
                  View
                </div>
                <Select
                  defaultValue={[]}
                  isMulti
                  name="Days"
                  options={optionsCategory}
                  className="basic-multi-select"
                  classNamePrefix="select"
                  onChange={this.onChangeFilter("VIEWS")}
                />
              </div>
            </div>
          </CardBody>
        </Card>

        <Card>
          <CardBody className="">
            <h5 className="mb-3">Availability</h5>
            {filterData.days.length === 0 ? (
              <div style={{ display: "flex", justifyContent: "center" }}>
                No Data
              </div>
            ) : (
              <div className="zui-wrapper">
                <div
                  className="zui-scroller"
                  id="ui-scroller"
                  style={{ display: "flex", justifyContent: "space-between" }}
                >
                  <table className="zui-table">
                    <thead>
                      <tr>
                        <th className="zui-sticky-col left-top-th">
                          <Button
                            className="btn"
                            color="success"
                            onClick={this.onClickSave.bind(this)}
                            style={{
                              width: "140px",
                              height: "35px",
                              marginTop: "20px",
                              marginRight: "50px"
                            }}
                          >
                            <i className="mr-2 mdi mdi-content-save"></i>
                            Save
                          </Button>
                          <a
                            href="#"
                            onClick={this.onClickLeft.bind(this)}
                            id="left-button"
                            class="btn btn-float btn-square btn-success btn-table-back"
                          >
                            <i className="fa fa-chevron-left"></i>
                          </a>
                        </th>
                        {filterData.days.map(item => {
                          return (
                            <th className="bg-blue-grey">
                              {item[0]}
                              <br />
                              <strong>{item[1]}</strong>
                              <br />
                              {item[2]}
                              <br />
                              {item[3]}
                              <br />
                            </th>
                          );
                        })}
                      </tr>
                    </thead>
                    <tbody>
                      {filterData.data_grid.map(category => {
                        return (
                          <React.Fragment>
                            <tr>
                              <td className="table-left-headings-1 zui-sticky-col">
                                {category.name} - (No.rooms)
                              </td>
                              {filterData.days.map(day => {
                                return (
                                  <td>
                                    <div className="col-md-3 no-padding">
                                      <input
                                        onChange={this.handleOnAvailabilityChange.bind(
                                          this,
                                          category._id.$oid,
                                          day[4]
                                        )}
                                        defaultValue={
                                          category.availability[day[4]]
                                        }
                                        className="form-control input-table avaialability"
                                      ></input>
                                    </div>
                                  </td>
                                );
                              })}
                            </tr>
                            {category.room_rates.map(rate => {
                              return (
                                <tr>
                                  <td className="table-left-headings zui-sticky-col">
                                    {rate.name}
                                  </td>
                                  {filterData.days.map(day => {
                                    return (
                                      <td>
                                        <div className="col-md-3 no-padding">
                                          <input
                                            onChange={this.handleOnRateChange.bind(
                                              this,
                                              rate._id.$oid,
                                              day[4]
                                            )}
                                            defaultValue={rate.prices[day[4]]}
                                            class="form-control input-table"
                                          ></input>
                                        </div>
                                      </td>
                                    );
                                  })}
                                </tr>
                              );
                            })}
                          </React.Fragment>
                        );
                      })}
                      <a
                        href="#"
                        onClick={this.onClickRight.bind(this)}
                        id="right-button"
                        className="btn btn-float btn-square btn-success btn-table-forward"
                      >
                        <i className="fa fa-chevron-right"></i>
                      </a>
                    </tbody>
                  </table>
                </div>
              </div>
            )}
          </CardBody>
        </Card>
      </div>
    );
  }
}

export default connect(
  mapStateToProps,
  mapDispatchToProps
)(Avl);
